"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[2785],{5846:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"module-1/ros2-architecture","title":"ROS 2 Architecture","description":"Overview","source":"@site/docs/module-1/ros2-architecture.md","sourceDirName":"module-1","slug":"/module-1/ros2-architecture","permalink":"/docs/module-1/ros2-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1/ros2-architecture.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Fundamentals","permalink":"/docs/module-1/ros2-fundamentals"},"next":{"title":"URDF Basics","permalink":"/docs/module-1/urdf-basics"}}');var s=i(4848),r=i(8453);const o={sidebar_position:2},l="ROS 2 Architecture",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"DDS (Data Distribution Service) Foundation",id:"dds-data-distribution-service-foundation",level:3},{value:"What is DDS?",id:"what-is-dds",level:4},{value:"DDS Architecture Components",id:"dds-architecture-components",level:4},{value:"Middleware Implementations",id:"middleware-implementations",level:3},{value:"Available DDS Implementations",id:"available-dds-implementations",level:4},{value:"Choosing the Right Implementation",id:"choosing-the-right-implementation",level:4},{value:"Quality of Service (QoS) Policies",id:"quality-of-service-qos-policies",level:3},{value:"Reliability Policy",id:"reliability-policy",level:4},{value:"Durability Policy",id:"durability-policy",level:4},{value:"History Policy",id:"history-policy",level:4},{value:"Deadline and Lifespan",id:"deadline-and-lifespan",level:4},{value:"Domain and Network Configuration",id:"domain-and-network-configuration",level:3},{value:"Domain IDs",id:"domain-ids",level:4},{value:"Network Discovery",id:"network-discovery",level:4},{value:"Practical Implementation",id:"practical-implementation",level:2},{value:"Advanced QoS Configuration",id:"advanced-qos-configuration",level:3},{value:"Domain Participant Configuration",id:"domain-participant-configuration",level:3},{value:"Multi-Domain Configuration",id:"multi-domain-configuration",level:3},{value:"Security Architecture",id:"security-architecture",level:2},{value:"ROS 2 Security Features",id:"ros-2-security-features",level:3},{value:"Security Configuration Example",id:"security-configuration-example",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Memory Management",id:"memory-management",level:3},{value:"Network Optimization",id:"network-optimization",level:3},{value:"Executor Types",id:"executor-types",level:3},{value:"Advanced Node Architecture",id:"advanced-node-architecture",level:2},{value:"Component-Based Design",id:"component-based-design",level:3},{value:"State Machine Integration",id:"state-machine-integration",level:3},{value:"Distributed System Design",id:"distributed-system-design",level:2},{value:"Multi-Robot Communication",id:"multi-robot-communication",level:3},{value:"Cloud Integration Patterns",id:"cloud-integration-patterns",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Architecture Design",id:"architecture-design",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Practical Lab: Advanced ROS 2 Architecture",id:"practical-lab-advanced-ros-2-architecture",level:2},{value:"Lab Objective",id:"lab-objective",level:3},{value:"Implementation Steps",id:"implementation-steps",level:3},{value:"Expected Outcome",id:"expected-outcome",level:3},{value:"Review Questions",id:"review-questions",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"ros-2-architecture",children:"ROS 2 Architecture"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2's architecture is fundamentally different from ROS 1, built on the Data Distribution Service (DDS) standard. This section explores the middleware layer, Quality of Service (QoS) settings, and advanced architectural concepts that enable robust, distributed robotic systems."}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this section, students will be able to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Explain the DDS-based architecture of ROS 2"}),"\n",(0,s.jsx)(n.li,{children:"Configure Quality of Service settings for different communication needs"}),"\n",(0,s.jsx)(n.li,{children:"Implement secure and distributed ROS 2 systems"}),"\n",(0,s.jsx)(n.li,{children:"Design advanced node architectures for complex robotic applications"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"dds-data-distribution-service-foundation",children:"DDS (Data Distribution Service) Foundation"}),"\n",(0,s.jsx)(n.h4,{id:"what-is-dds",children:"What is DDS?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standard"}),": OMG (Object Management Group) specification for real-time data distribution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementation"}),": Provides discovery, reliability, and performance guarantees"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexibility"}),": Supports multiple vendors (Fast DDS, Cyclone DDS, RTI Connext)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scalability"}),": Handles distributed systems from single robots to multi-robot teams"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"dds-architecture-components",children:"DDS Architecture Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Domain"}),": Logical separation of DDS systems (equivalent to ROS_DOMAIN_ID)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Participant"}),": Individual nodes in the DDS network"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Topic"}),": Named data streams with type definitions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Publisher/Subscriber"}),": Communication entities for data exchange"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DataWriter/DataReader"}),": Lower-level DDS entities managing data flow"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"middleware-implementations",children:"Middleware Implementations"}),"\n",(0,s.jsx)(n.h4,{id:"available-dds-implementations",children:"Available DDS Implementations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fast DDS (eProsima)"}),": Default in ROS 2 Humble, high performance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cyclone DDS (Eclipse)"}),": Lightweight, efficient implementation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RTI Connext DDS"}),": Commercial solution with enterprise features"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OpenSplice DDS"}),": Open-source implementation (discontinued)"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"choosing-the-right-implementation",children:"Choosing the Right Implementation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Requirements"}),": Fast DDS for high-throughput applications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Resource Constraints"}),": Cyclone DDS for embedded systems"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Commercial Support"}),": RTI for enterprise deployments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Open Source"}),": Cyclone or Fast DDS for academic/research use"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"quality-of-service-qos-policies",children:"Quality of Service (QoS) Policies"}),"\n",(0,s.jsx)(n.h4,{id:"reliability-policy",children:"Reliability Policy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RELIABLE"}),": All messages are guaranteed to be delivered (with retries)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"BEST_EFFORT"}),": Messages may be lost, but faster delivery"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),": RELIABLE for critical commands, BEST_EFFORT for sensor data"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"durability-policy",children:"Durability Policy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TRANSIENT_LOCAL"}),": Late-joining subscribers receive previous messages"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"VOLATILE"}),": No historical data preservation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),": TRANSIENT_LOCAL for configuration, VOLATILE for streaming data"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"history-policy",children:"History Policy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"KEEP_LAST"}),": Maintain N most recent messages"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"KEEP_ALL"}),": Maintain all messages (use with care)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Depth Parameter"}),": Number of messages to keep in history"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"deadline-and-lifespan",children:"Deadline and Lifespan"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Deadline"}),": Maximum time between samples"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lifespan"}),": Maximum lifetime of a sample"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Liveliness"}),": How to detect if a publisher is alive"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"domain-and-network-configuration",children:"Domain and Network Configuration"}),"\n",(0,s.jsx)(n.h4,{id:"domain-ids",children:"Domain IDs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Set domain ID (0-232 range)\nexport ROS_DOMAIN_ID=42\n\n# Multiple domains allow isolation\n# Domain 0: Simulation\n# Domain 1: Real robot\n# Domain 2: Debug tools\n"})}),"\n",(0,s.jsx)(n.h4,{id:"network-discovery",children:"Network Discovery"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multicast"}),": Automatic discovery of ROS 2 nodes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Static Discovery"}),": Pre-configured node lists for security"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Security"}),": TLS encryption and authentication"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"practical-implementation",children:"Practical Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"advanced-qos-configuration",children:"Advanced QoS Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy, HistoryPolicy\n\n# Configuration for critical control commands\ncritical_qos = QoSProfile(\n    reliability=ReliabilityPolicy.RELIABLE,\n    durability=DurabilityPolicy.TRANSIENT_LOCAL,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=10\n)\n\n# Configuration for sensor data\nsensor_qos = QoSProfile(\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    durability=DurabilityPolicy.VOLATILE,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=5\n)\n\n# Configuration for logging\nlog_qos = QoSProfile(\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    durability=DurabilityPolicy.TRANSIENT_LOCAL,\n    history=HistoryPolicy.KEEP_ALL\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"domain-participant-configuration",children:"Domain Participant Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom rclpy.qos import QoSProfile\n\nclass AdvancedNode(Node):\n    def __init__(self):\n        super().__init__('advanced_node')\n\n        # Different publishers with different QoS for different data types\n        self.critical_cmd_pub = self.create_publisher(\n            String, 'critical_cmd', critical_qos)\n\n        self.sensor_data_pub = self.create_publisher(\n            LaserScan, 'sensor_data', sensor_qos)\n\n        self.log_pub = self.create_publisher(\n            String, 'log_data', log_qos)\n\n        # Subscriber with matching QoS\n        self.cmd_sub = self.create_subscription(\n            String, 'cmd', self.cmd_callback, critical_qos)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multi-domain-configuration",children:"Multi-Domain Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Example of configuring for multiple robots\n# Robot 1: Domain ID 10\n# Robot 2: Domain ID 11\n# Control station: Domain ID 20\n\n# For robot 1\n# export ROS_DOMAIN_ID=10\n\n# For robot 2\n# export ROS_DOMAIN_ID=11\n\n# For control station (if needs to communicate with both)\n# export ROS_LOCALHOST_ONLY=0  # Allow network communication\n# Can join multiple domains with careful configuration\n"})}),"\n",(0,s.jsx)(n.h2,{id:"security-architecture",children:"Security Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"ros-2-security-features",children:"ROS 2 Security Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication"}),": Verify node identity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authorization"}),": Control node permissions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encryption"}),": Protect data in transit"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Signing"}),": Verify message integrity"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"security-configuration-example",children:"Security Configuration Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Security files directory structure\n# ~/.ros/sros2_keys/\n# \u251c\u2500\u2500 keystore/\n# \u2502   \u251c\u2500\u2500 config/\n# \u2502   \u2502   \u2514\u2500\u2500 governance.xml\n# \u2502   \u251c\u2500\u2500 ca/\n# \u2502   \u2502   \u251c\u2500\u2500 cert/\n# \u2502   \u2502   \u2502   \u2514\u2500\u2500 ca.cert.pem\n# \u2502   \u2502   \u2514\u2500\u2500 private/\n# \u2502   \u2502       \u2514\u2500\u2500 ca.key.pem\n# \u2502   \u2514\u2500\u2500 identities/\n# \u2502       \u2514\u2500\u2500 my_node/\n# \u2502           \u251c\u2500\u2500 cert/\n# \u2502           \u2502   \u2514\u2500\u2500 identity.cert.pem\n# \u2502           \u251c\u2500\u2500 private/\n# \u2502           \u2502   \u2514\u2500\u2500 identity.key.pem\n# \u2502           \u2514\u2500\u2500 permissions/\n# \u2502               \u2514\u2500\u2500 permissions.xml\n"})}),"\n",(0,s.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(n.h3,{id:"memory-management",children:"Memory Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Message Pools"}),": Reuse message objects to reduce allocation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zero-copy"}),": Share memory between processes when possible"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Serialization"}),": Optimize data structures for efficient serialization"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"network-optimization",children:"Network Optimization"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transport"}),": UDP multicast for discovery, TCP/UDP for data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compression"}),": Compress large messages when bandwidth is limited"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Threading"}),": Use appropriate executors for different workloads"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"executor-types",children:"Executor Types"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from rclpy.executors import SingleThreadedExecutor, MultiThreadedExecutor\nimport threading\n\n# Single-threaded executor\nsingle_executor = SingleThreadedExecutor()\n\n# Multi-threaded executor\nmulti_executor = MultiThreadedExecutor(num_threads=4)\n\n# Custom executor for specific needs\nclass RobotControlExecutor(MultiThreadedExecutor):\n    def __init__(self):\n        super().__init__(num_threads=2)  # Separate threads for safety-critical tasks\n        self.safety_lock = threading.Lock()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"advanced-node-architecture",children:"Advanced Node Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"component-based-design",children:"Component-Based Design"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from rclpy.node import Node\nfrom rclpy.lifecycle import LifecycleNode, LifecycleState\nfrom rclpy.lifecycle import TransitionCallbackReturn\n\nclass RobotComponent(LifecycleNode):\n    def __init__(self, name):\n        super().__init__(name)\n        self.declare_parameter(\'component_enabled\', True)\n        self.component_enabled = self.get_parameter(\'component_enabled\').value\n\n    def on_configure(self, state: LifecycleState):\n        """Configure component resources"""\n        self.get_logger().info(f\'Configuring {self.get_name()}\')\n        # Initialize hardware, sensors, etc.\n        return TransitionCallbackReturn.SUCCESS\n\n    def on_activate(self, state: LifecycleState):\n        """Activate component"""\n        self.get_logger().info(f\'Activating {self.get_name()}\')\n        # Start timers, subscriptions, etc.\n        return TransitionCallbackReturn.SUCCESS\n\n    def on_deactivate(self, state: LifecycleState):\n        """Deactivate component"""\n        self.get_logger().info(f\'Deactivating {self.get_name()}\')\n        # Stop timers, reset state, etc.\n        return TransitionCallbackReturn.SUCCESS\n\n    def on_cleanup(self, state: LifecycleState):\n        """Clean up resources"""\n        self.get_logger().info(f\'Cleaning up {self.get_name()}\')\n        # Release hardware, close connections, etc.\n        return TransitionCallbackReturn.SUCCESS\n'})}),"\n",(0,s.jsx)(n.h3,{id:"state-machine-integration",children:"State Machine Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from enum import Enum\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass RobotState(Enum):\n    IDLE = 1\n    NAVIGATING = 2\n    MANIPULATING = 3\n    EMERGENCY_STOP = 4\n\nclass StateMachineNode(Node):\n    def __init__(self):\n        super().__init__('state_machine_node')\n        self.current_state = RobotState.IDLE\n        self.state_publisher = self.create_publisher(String, 'robot_state', 10)\n        self.state_subscriber = self.create_subscription(\n            String, 'state_commands', self.state_command_callback, 10)\n\n        self.state_timer = self.create_timer(0.1, self.state_machine_loop)\n\n    def state_machine_loop(self):\n        \"\"\"Main state machine execution\"\"\"\n        state_msg = String()\n        state_msg.data = self.current_state.name\n        self.state_publisher.publish(state_msg)\n\n        # Execute behavior based on current state\n        if self.current_state == RobotState.NAVIGATING:\n            self.execute_navigation()\n        elif self.current_state == RobotState.MANIPULATING:\n            self.execute_manipulation()\n        # ... other states\n\n    def state_command_callback(self, msg):\n        \"\"\"Handle state change commands\"\"\"\n        if msg.data == 'NAVIGATE' and self.current_state == RobotState.IDLE:\n            self.current_state = RobotState.NAVIGATING\n        elif msg.data == 'MANIPULATE' and self.current_state == RobotState.IDLE:\n            self.current_state = RobotState.MANIPULATING\n        elif msg.data == 'STOP':\n            self.current_state = RobotState.IDLE\n"})}),"\n",(0,s.jsx)(n.h2,{id:"distributed-system-design",children:"Distributed System Design"}),"\n",(0,s.jsx)(n.h3,{id:"multi-robot-communication",children:"Multi-Robot Communication"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Domain Separation"}),": Use different domain IDs for different robot teams"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Master Discovery"}),": Implement robot discovery protocols"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Load Balancing"}),": Distribute computational tasks across robots"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fault Tolerance"}),": Handle robot failures gracefully"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cloud-integration-patterns",children:"Cloud Integration Patterns"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Edge Processing"}),": Local processing for real-time tasks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cloud Processing"}),": Heavy computation offloaded to cloud"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Synchronization"}),": Keep local and cloud data consistent"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bandwidth Management"}),": Optimize data transfer rates"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"architecture-design",children:"Architecture Design"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modularity"}),": Keep nodes focused on single responsibilities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Decoupling"}),": Minimize dependencies between components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scalability"}),": Design for increasing complexity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintainability"}),": Use clear interfaces and documentation"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Requirements"}),": Meet timing constraints for safety-critical systems"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Resource Management"}),": Efficiently use CPU, memory, and network"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Communication Efficiency"}),": Optimize message sizes and frequencies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"}),": Graceful degradation under adverse conditions"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"practical-lab-advanced-ros-2-architecture",children:"Practical Lab: Advanced ROS 2 Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"lab-objective",children:"Lab Objective"}),"\n",(0,s.jsx)(n.p,{children:"Implement a distributed robotic system with multiple nodes, different QoS settings, and proper error handling."}),"\n",(0,s.jsx)(n.h3,{id:"implementation-steps",children:"Implementation Steps"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create multiple nodes with different responsibilities"}),"\n",(0,s.jsx)(n.li,{children:"Configure appropriate QoS settings for each communication channel"}),"\n",(0,s.jsx)(n.li,{children:"Implement lifecycle nodes for proper resource management"}),"\n",(0,s.jsx)(n.li,{children:"Test system behavior under different network conditions"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"expected-outcome",children:"Expected Outcome"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Working distributed system with proper architecture"}),"\n",(0,s.jsx)(n.li,{children:"Correct use of QoS policies for different data types"}),"\n",(0,s.jsx)(n.li,{children:"Lifecycle management for resource control"}),"\n",(0,s.jsx)(n.li,{children:"Demonstrated understanding of advanced ROS 2 concepts"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Explain the role of DDS in ROS 2 architecture and how it differs from ROS 1's communication model."}),"\n",(0,s.jsx)(n.li,{children:"When would you use RELIABLE vs BEST_EFFORT QoS policies? Provide specific examples."}),"\n",(0,s.jsx)(n.li,{children:"Describe the security features available in ROS 2 and when to use them."}),"\n",(0,s.jsx)(n.li,{children:"What are lifecycle nodes and why are they important for complex robotic systems?"}),"\n",(0,s.jsx)(n.li,{children:"How can you optimize performance in a distributed ROS 2 system?"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"After mastering ROS 2 architecture, students should proceed to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"URDF for robot modeling and representation"}),"\n",(0,s.jsx)(n.li,{children:"Advanced simulation with Gazebo"}),"\n",(0,s.jsx)(n.li,{children:"Integration with Python agents using rclpy"}),"\n",(0,s.jsx)(n.li,{children:"Practical labs with real hardware platforms"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This advanced understanding of ROS 2 architecture provides the foundation for building complex, distributed, and robust robotic systems in Physical AI applications."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);